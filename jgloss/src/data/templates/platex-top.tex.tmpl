%encoding: EUC-JP
%short-description: pLaTeX - translations on page
%description
% Generate a platex input file. Translations are put
% in a footnote on the page where the word appears.
%end description
% This is a EUC-JP encoded Japanese LaTeX document generated
% by JGloss from %document-filename% on %generation-time%.
% Use platex to process this file.
% Note that the file ruby-annotation.sty which comes with JGloss
% must be installed.
%
% template-author: Michael Koch <tensberg@gmx.net>
% The template file may be freely redistributed unmodified
% or modified.
% $Id$

\documentclass[%font-size%pt]{jarticle}
\usepackage[overlap,CJK]{ruby-annotation}
\usepackage{pslatex}
\renewcommand{\thefootnote}{}

\newlength{\ww}
\settowidth{\ww}{%longest-word%--}
\newlength{\rw}
\settowidth{\rw}{%longest-reading%--}

\newlength{\tw}
\setlength{\tw}{\textwidth}
\addtolength{\tw}{-1.0\ww}
\addtolength{\tw}{-1.0\rw}
% I don't know where the -22pt come from, but if they are not subtracted,
% latex complains about overful \hboxes
\addtolength{\tw}{-22pt}

\begin{document}

\pagestyle{myheadings}
\markright{%document-title%}
\newcommand{\fn}[3]{\footnotetext{\makebox[\ww][l]{#1} \makebox[\rw][l]{#2} \parbox[t]{\tw}{#3}}}

%document-text
%reading: \\ruby{%word%}{%reading%}
%translation: \\fn{%dictionary-word%}{%dictionary-reading%}{%translation%}
%paragraph-end: \n\n\\bigskip\n\n
%end document-text

\end{document}
